-- phpMyAdmin SQL Dump
-- version 4.6.5.2
-- https://www.phpmyadmin.net/
--
-- Servidor: 127.0.0.1
-- Tiempo de generación: 16-02-2017 a las 01:31:22
-- Versión del servidor: 10.1.21-MariaDB
-- Versión de PHP: 7.1.1

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Base de datos: `bd_practica`
--

DELIMITER $$
--
-- Procedimientos
--
CREATE DEFINER=`root`@`localhost` PROCEDURE `actualiza_productos` (`nPrecio` INT, `codigo` VARCHAR(4))  UPDATE productos SET PRECIO=nPrecio WHERE CÓDIGOARTÍCULO=codigo$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `calcular_edad` (`agno_nacimiento` INT)  BEGIN
	DECLARE agno_actual INT DEFAULT 2017;
	DECLARE edad INT;
	SET edad=agno_actual-agno_nacimiento;
	SELECT edad;
END$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `muestra_cliente` ()  (
	SELECT * FROM clientes WHERE POBLACIÓN='MADRID'
	)$$

DELIMITER ;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `clientes`
--

CREATE TABLE `clientes` (
  `CÓDIGOCLIENTE` varchar(4) NOT NULL,
  `EMPRESA` varchar(24) DEFAULT NULL,
  `DIRECCIÓN` varchar(19) DEFAULT NULL,
  `POBLACIÓN` varchar(9) DEFAULT NULL,
  `TELÉFONO` int(9) DEFAULT NULL,
  `RESPONSABLE` varchar(17) DEFAULT NULL,
  `HISTORIAL` varchar(10) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `clientes`
--

INSERT INTO `clientes` (`CÓDIGOCLIENTE`, `EMPRESA`, `DIRECCIÓN`, `POBLACIÓN`, `TELÉFONO`, `RESPONSABLE`, `HISTORIAL`) VALUES
('CT01', 'BELTRÁN E HIJOS', 'LAS FUENTES 78', 'MADRID', 914456435, 'ANGEL MARTÍNEZ', NULL),
('CT02', 'LA MODERNA', 'LA PALOMA 123', 'OVIEDO', 985323434, 'JUAN GARCÍA', NULL),
('CT03', 'EL ESPAÑOLITO', 'MOTORES 34', 'BARCELONA', 934565343, 'ANA FERNÁNDEZ', NULL),
('CT04', 'EXPORTASA', 'VALLECAS 34', 'MADRID', 913452378, 'ELVIRA GÓMEZ', NULL),
('CT06', 'CONFECCIONES AMPARO', 'LOS MOROS 23', 'GIJÓN', 985754332, 'LUÍS ÁLVAREZ', NULL),
('CT07', 'LA CASA DEL JUGUETE', 'AMÉRICA 45', 'MADRID', 912649987, 'ELÍAS PÉREZ', NULL),
('CT08', 'JUGUETERÍA SUÁREZ', 'PARIS 123', 'BARCELONA', 933457866, 'JUAN GARCÍA', NULL),
('CT09', 'ALMACÉN POPULAR', 'LAS FUENTES 124', 'BILBAO', 942347127, 'JOSÉ ÁLVAREZ', NULL),
('CT10', 'FERETERÍA EL CLAVO', 'PASEO DE ÁLAMOS 78', 'MADRID', 914354866, 'MANUEL MENÉNDEZ', NULL),
('CT11', 'JUGUETES MARTÍNEZ', 'VIA LAYETANA 245', 'BARCELONA', 936628554, 'FRANCISCO CUEVAS', NULL),
('CT12', 'FERNÁNDEZ SL', 'PASEO DEL MAR 45', 'SANTANDER', 942049586, 'ELISA COLLADO', NULL),
('CT13', 'CONFECCIONES ARTÍMEZ', 'GENERAL PERÓN 45', 'A CORUÑA', 981345239, 'ESTEBAN PASCUAL', NULL),
('CT14', 'DEPORTES GARCÍA', 'GUZMÁN EL BUENO 45', 'MADRID', 913299475, 'ANA JIMÉNEZ', NULL),
('CT15', 'EXCLUSIVAS FERNÁNDEZ', 'LLOBREGAT 250', 'BARCELONA', 939558365, 'LUISA FERNÁNDEZ', NULL),
('CT16', 'DEPORTES MORÁN', 'AUTONOMÍA 45', 'LUGO', 982986944, 'JOSÉ MANZANO', NULL),
('CT17', 'BAZAR FRANCISCO', 'CARMEN 45', 'ZAMORA', 980495288, 'CARLOS BELTRÁN', NULL),
('CT18', 'JUGUETES LA SONRISA', 'LA BAÑEZA 67', 'LEÓN', 987945368, 'FAUSTINO PÉREZ', NULL),
('CT19', 'CONFECCIONES GALÁN', 'FUENCARRAL 78', 'MADRID', 913859234, 'JUAN GARCÍA', NULL),
('CT20', 'LA CURTIDORA', 'OLIVARES 3', 'MÁLAGA', 953756259, 'MARÍA GÓMEZ', NULL),
('CT21', 'LÍNEA JOVEN', 'SIERPES 78', 'SEVILLA', 953452567, 'ASUNCIÓN SALADO', NULL),
('CT22', 'BAZAR EL BARAT', 'DIAGONAL 56', 'BARCELONA', 936692866, 'ELISA DAPENA', NULL),
('CT23', 'EL PALACIO DE LA MODA', 'ORTEGA Y GASSET 129', 'MADRID', 927785235, 'LAURA CARRASCO', NULL),
('CT24', 'SÁEZ Y CÍA', 'INFANTA MERCEDS 23', 'SEVILLA', 954869234, 'MANUEL GUERRA', NULL),
('CT25', 'DEPORTES EL MADRILEÑO', 'CASTILLA 345', 'ZARAGOZA', 976388934, 'CARLOS GONZÁLEZ', NULL),
('CT26', 'FERRETERÍA LA ESCOBA', 'ORENSE 7', 'MADRID', 918459346, 'JOSÉ GARCÍA', NULL),
('CT27', 'JUGUETES EL BARATO', 'VÍA AUGUSTA 245', 'BARCELONA', 933486984, 'ELVIRA IGLESIAS', NULL),
('CT28', 'CONFECCIONES HERMINIA', 'CORRIDA 345', 'GIJÓN', 985597315, 'ABEL GONZÁLEZ', NULL),
('CT30', 'BAZAR EL ARGENTINO', 'ATOCHA 55', 'MADRID', 912495973, 'ADRIÁN ÁLVAREZ', NULL),
('CT31', 'LA TIENDA ELEGANTE', 'EL COMENDADOR 67', 'ZARAGOZA', 975694035, 'JOSÉ PASCUAL', NULL),
('CT32', 'DEPORTES NAUTICOS GARCÍA', 'JUAN FERNÁNDEZ 89', 'ÁVILA', 920268648, 'JUAN CONRADO', NULL),
('CT33', 'CONFECCIONES RUIZ', 'LLOBREGAT 345', 'BARCELONA', 934587615, 'CARLOS SANZ', NULL),
('CT34', 'BAZAR LA FARAONA', 'CASTILLA Y LEÓN 34', 'MADRID', 915483627, 'ANGEL SANTAMARÍA', NULL),
('CT35', 'FERRETERÍA EL MARTILLO', 'CASTELLANOS 205', 'SALAMANCA', 923548965, 'JOAQUÍN FERNANDEZ', NULL),
('CT36', 'JUGUETES EDUCATIVOS SANZ', 'ORENSE 89', 'MADRID', 916872354, 'PEDRO IGLESIAS', NULL),
('CT37', 'ALMACENES FERNANDEZ', 'ANTÓN 67', 'TERUEL', 978564025, 'MARIA ARDANZA', NULL),
('CT38', 'CONFECCIONES MÓNICA', 'MOTORES 67', 'BARCELONA', 935681245, 'PEDRO SERRANO', NULL),
('CT39', 'FERRETERÍA LIMA', 'VALLECAS 45', 'MADRID', 913532785, 'LUIS GARCÍA', NULL),
('CT40', 'DEPORTES EL BRASILEÑO', 'ABEL MARTÍNEZ 67', 'SALAMANCA', 921548762, 'CARLOS GÓMEZ', NULL);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `clientes_madrid`
--

CREATE TABLE `clientes_madrid` (
  `CÓDIGOCLIENTE` varchar(4) CHARACTER SET utf8 NOT NULL,
  `EMPRESA` varchar(24) CHARACTER SET utf8 DEFAULT NULL,
  `DIRECCIÓN` varchar(19) CHARACTER SET utf8 DEFAULT NULL,
  `POBLACIÓN` varchar(9) CHARACTER SET utf8 DEFAULT NULL,
  `TELÉFONO` int(9) DEFAULT NULL,
  `RESPONSABLE` varchar(17) CHARACTER SET utf8 DEFAULT NULL,
  `HISTORIAL` varchar(10) CHARACTER SET utf8 DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Volcado de datos para la tabla `clientes_madrid`
--

INSERT INTO `clientes_madrid` (`CÓDIGOCLIENTE`, `EMPRESA`, `DIRECCIÓN`, `POBLACIÓN`, `TELÉFONO`, `RESPONSABLE`, `HISTORIAL`) VALUES
('CT01', 'BELTRÁN E HIJOS', 'LAS FUENTES 78', 'MADRID', 914456435, 'ANGEL MARTÍNEZ', NULL),
('CT04', 'EXPORTASA', 'VALLECAS 34', 'MADRID', 913452378, 'ELVIRA GÓMEZ', NULL),
('CT07', 'LA CASA DEL JUGUETE', 'AMÉRICA 45', 'MADRID', 912649987, 'ELÍAS PÉREZ', NULL),
('CT10', 'FERETERÍA EL CLAVO', 'PASEO DE ÁLAMOS 78', 'MADRID', 914354866, 'MANUEL MENÉNDEZ', NULL),
('CT14', 'DEPORTES GARCÍA', 'GUZMÁN EL BUENO 45', 'MADRID', 913299475, 'ANA JIMÉNEZ', NULL),
('CT19', 'CONFECCIONES GALÁN', 'FUENCARRAL 78', 'MADRID', 913859234, 'JUAN GARCÍA', NULL),
('CT23', 'EL PALACIO DE LA MODA', 'ORTEGA Y GASSET 129', 'MADRID', 927785235, 'LAURA CARRASCO', NULL),
('CT26', 'FERRETERÍA LA ESCOBA', 'ORENSE 7', 'MADRID', 918459346, 'JOSÉ GARCÍA', NULL),
('CT30', 'BAZAR EL ARGENTINO', 'ATOCHA 55', 'MADRID', 912495973, 'ADRIÁN ÁLVAREZ', NULL),
('CT34', 'BAZAR LA FARAONA', 'CASTILLA Y LEÓN 34', 'MADRID', 915483627, 'ANGEL SANTAMARÍA', NULL),
('CT36', 'JUGUETES EDUCATIVOS SANZ', 'ORENSE 89', 'MADRID', 916872354, 'PEDRO IGLESIAS', NULL),
('CT39', 'FERRETERÍA LIMA', 'VALLECAS 45', 'MADRID', 913532785, 'LUIS GARCÍA', NULL);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `pedidos`
--

CREATE TABLE `pedidos` (
  `NÚMERO DE PEDIDO` int(4) NOT NULL,
  `CÓDIGOCLIENTE` varchar(4) DEFAULT NULL,
  `FECHA DE PEDIDO` varchar(10) DEFAULT NULL,
  `FORMA DE PAGO` varchar(8) DEFAULT NULL,
  `DESCUENTO` decimal(3,2) DEFAULT NULL,
  `ENVIADO` varchar(9) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `pedidos`
--

INSERT INTO `pedidos` (`NÚMERO DE PEDIDO`, `CÓDIGOCLIENTE`, `FECHA DE PEDIDO`, `FORMA DE PAGO`, `DESCUENTO`, `ENVIADO`) VALUES
(1, 'CT01', '11/03/2000', 'CONTADO', '0.02', 'VERDADERO'),
(3, 'CT23', '18/03/2000', 'APLAZADO', '0.06', 'FALSO'),
(5, 'CT25', '31/03/2000', 'CONTADO', '0.09', 'FALSO'),
(7, 'CT12', '12/04/2000', 'CONTADO', '0.07', 'FALSO'),
(8, 'CT01', '15/04/2000', 'TARJETA', '0.02', 'VERDADERO'),
(9, 'CT21', '21/04/2000', 'CONTADO', '0.04', 'FALSO'),
(11, 'CT04', '01/05/2001', 'CONTADO', '0.08', 'VERDADERO'),
(12, 'CT06', '19/05/2001', 'CONTADO', '0.09', 'VERDADERO'),
(13, 'CT13', '30/04/2000', 'APLAZADO', '0.03', 'FALSO'),
(16, 'CT25', '11/05/2001', 'CONTADO', '0.12', 'FALSO'),
(19, 'CT10', '22/05/2002', 'CONTADO', '0.07', 'VERDADERO'),
(21, 'CT16', '28/05/2001', 'CONTADO', '0.03', 'FALSO'),
(22, 'CT07', '31/05/2000', 'TARJETA', '0.05', 'VERDADERO'),
(25, 'CT18', '02/06/2000', 'CONTADO', '0.06', 'FALSO'),
(26, 'CT09', '04/06/2001', 'APLAZADO', '0.07', 'VERDADERO'),
(27, 'CT34', '06/06/2000', 'CONTADO', '0.04', 'FALSO'),
(28, 'CT28', '08/06/2000', 'APLAZADO', '0.08', 'FALSO'),
(29, 'CT30', '02/04/2001', 'TARJETA', '0.06', 'FALSO'),
(30, 'CT02', '15/08/2000', 'CONTADO', '0.06', 'VERDADERO'),
(31, 'CT30', '08/06/2000', 'TARJETA', '0.05', 'VERDADERO'),
(32, 'CT14', '20/06/2001', 'APLAZADO', '0.06', 'FALSO'),
(34, 'CT26', '23/06/2002', 'TARJETA', '0.05', 'FALSO'),
(35, 'CT26', '30/06/2001', 'CONTADO', '0.06', 'FALSO'),
(37, 'CT24', '02/07/2001', 'TARJETA', '0.03', 'VERDADERO'),
(39, 'CT20', '08/07/2001', 'TARJETA', '0.06', 'VERDADERO'),
(40, 'CT04', '12/07/2002', 'CONTADO', '0.12', 'FALSO'),
(42, 'CT34', '15/07/2002', 'APLAZADO', '0.07', 'VERDADERO'),
(43, 'CT09', '18/07/2001', 'CONTADO', '0.07', 'FALSO'),
(44, 'CT34', '20/07/2002', 'APLAZADO', '0.04', 'FALSO'),
(45, 'CT30', '22/07/2002', 'TARJETA', '0.07', 'FALSO'),
(46, 'CT31', '25/07/2002', 'CONTADO', '0.06', 'FALSO'),
(47, 'CT34', '31/07/2000', 'APLAZADO', '0.08', 'FALSO'),
(48, 'CT18', '30/08/2002', 'CONTADO', '0.03', 'FALSO'),
(49, 'CT28', '02/09/2002', 'CONTADO', '0.03', 'FALSO'),
(50, 'CT09', '05/09/2002', 'APLAZADO', '0.08', 'FALSO'),
(51, 'CT09', '05/09/2002', 'CONTADO', '0.05', 'VERDADERO'),
(63, 'CT28', '10/09/2000', 'CONTADO', '0.09', 'FALSO'),
(72, 'CT01', '18/08/2002', 'CONTADO', '0.05', 'VERDADERO'),
(73, 'CT01', '02/08/2001', 'CONTADO', '0.07', 'FALSO'),
(74, 'CT01', '17/09/2002', 'APLAZADO', '0.08', 'FALSO'),
(75, 'CT01', '30/09/2002', 'TARJETA', '0.12', 'FALSO'),
(76, 'CT01', '19/10/2002', 'CONTADO', '0.04', 'VERDADERO'),
(77, 'CT01', '28/10/2000', 'CONTADO', '0.05', 'FALSO'),
(79, 'CT34', '12/12/2000', 'CONTADO', '0.05', 'FALSO'),
(85, 'CT04', '23/12/2002', 'TARJETA', '0.04', 'FALSO'),
(86, 'CT09', '24/12/2001', 'APLAZADO', '0.03', 'FALSO'),
(98, 'CT01', '27/12/2001', 'CONTADO', '0.08', 'VERDADERO'),
(102, 'CT06', '12/01/2001', 'CONTADO', '0.07', 'VERDADERO'),
(103, 'CT02', '24/01/2001', 'CONTADO', '0.04', 'FALSO'),
(105, 'CT30', '01/01/2001', 'APLAZADO', '0.09', 'FALSO'),
(5005, 'CT30', '10/08/2002', 'TARJETA', '0.00', 'VERDADERO'),
(5050, 'CT30', '27/03/2002', 'TARJETA', '0.00', 'VERDADERO');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `productos`
--

CREATE TABLE `productos` (
  `CÓDIGOARTÍCULO` varchar(4) NOT NULL,
  `SECCIÓN` varchar(10) DEFAULT NULL,
  `NOMBREARTÍCULO` varchar(19) DEFAULT NULL,
  `PRECIO` decimal(10,4) DEFAULT NULL,
  `FECHA` date DEFAULT NULL,
  `IMPORTADO` varchar(9) DEFAULT NULL,
  `PAÍSDEORIGEN` varchar(9) DEFAULT NULL,
  `FOTO` varchar(10) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `productos`
--

INSERT INTO `productos` (`CÓDIGOARTÍCULO`, `SECCIÓN`, `NOMBREARTÍCULO`, `PRECIO`, `FECHA`, `IMPORTADO`, `PAÍSDEORIGEN`, `FOTO`) VALUES
('AR01', 'FERRETERÍA', 'DESTORNILLADOR', '20.0000', '2000-10-22', 'FALSO', 'ESPAÑA', NULL),
('AR02', 'CONFECCIÓN', 'TRAJE CABALLERO', '284.5769', '2002-03-11', 'VERDADERO', 'ITALIA', NULL),
('AR03', 'JUGUETERÍA', 'COCHE TELEDIRIGIDO', '159.4462', '2002-05-26', 'VERDADERO', 'MARRUECOS', NULL),
('AR04', 'DEPORTES', 'RAQUETA TENIS', '93.4694', '2000-03-20', 'VERDADERO', 'USA', NULL),
('AR06', 'DEPORTES', 'MANCUERNAS', '60.0000', '2000-09-13', 'VERDADERO', 'USA', NULL),
('AR07', 'CONFECCIÓN', 'SERRUCHO', '30.2045', '2001-03-23', 'VERDADERO', 'FRANCIA', NULL),
('AR08', 'JUGUETERÍA', 'CORREPASILLOS', '103.3356', '2000-04-11', 'VERDADERO', 'JAPÓN', NULL),
('AR09', 'CONFECCIÓN', 'PANTALÓN SEÑORA', '174.2310', '2000-01-10', 'VERDADERO', 'MARRUECOS', NULL),
('AR10', 'JUGUETERÍA', 'CONSOLA VIDEO', '442.5444', '2002-09-24', 'VERDADERO', 'USA', NULL),
('AR11', 'CERÁMICA', 'TUBOS', '168.4253', '2000-02-04', 'VERDADERO', 'CHINA', NULL),
('AR12', 'FERRETERÍA', 'LLAVE INGLESA', '24.3986', '2001-05-23', 'VERDADERO', 'USA', NULL),
('AR13', 'CONFECCIÓN', 'CAMISA CABALLERO', '67.1306', '2002-08-11', 'FALSO', 'ESPAÑA', NULL),
('AR14', 'JUGUETERÍA', 'TREN ELÉCTRICO', '1505.3766', '2001-07-03', 'VERDADERO', 'JAPÓN', NULL),
('AR15', 'CERÁMICA', 'PLATO DECORATIVO', '54.0911', '2000-06-07', 'VERDADERO', 'CHINA', NULL),
('AR16', 'FERRETERÍA', 'ALICATES', '6.7362', '2000-04-17', 'VERDADERO', 'ITALIA', NULL),
('AR17', 'JUGUETERÍA', 'MUÑECA ANDADORA', '105.0593', '2001-01-04', 'FALSO', 'ESPAÑA', NULL),
('AR18', 'DEPORTES', 'PISTOLA OLÍMPICA', '46.7347', '2001-02-02', 'VERDADERO', 'SUECIA', NULL),
('AR19', 'CONFECCIÓN', 'BLUSA SRA.', '101.0566', '2000-03-18', 'VERDADERO', 'CHINA', NULL),
('AR20', 'CERÁMICA', 'JUEGO DE TE', '43.2728', '2001-01-15', 'VERDADERO', 'CHINA', NULL),
('AR21', 'CERÁMICA', 'CENICERO', '19.7468', '2001-07-02', 'VERDADERO', 'JAPÓN', NULL),
('AR22', 'FERRETERÍA', 'MARTILLO', '11.3952', '2001-09-04', 'FALSO', 'ESPAÑA', NULL),
('AR23', 'CONFECCIÓN', 'CAZADORA PIEL', '522.6930', '2001-07-10', 'VERDADERO', 'ITALIA', NULL),
('AR24', 'DEPORTES', 'BALÓN RUGBY', '111.6440', '2000-11-11', 'VERDADERO', 'USA', NULL),
('AR25', 'DEPORTES', 'BALÓN BALONCESTO', '75.2731', '2001-06-25', 'VERDADERO', 'JAPÓN', NULL),
('AR26', 'JUGUETERÍA', 'FUERTE DE SOLDADOS', '143.7020', '2000-11-25', 'VERDADERO', 'JAPÓN', NULL),
('AR27', 'CONFECCIÓN', 'ABRIGO CABALLERO', '500000.0000', '2002-04-05', 'VERDADERO', 'ITALIA', NULL),
('AR28', 'DEPORTES', 'BALÓN FÚTBOL', '43.9147', '2002-07-04', 'FALSO', 'ESPAÑA', NULL),
('AR29', 'CONFECCIÓN', 'ABRIGO SRA', '360.0736', '2001-05-03', 'VERDADERO', 'MARRUECOS', NULL),
('AR30', 'FERRETERÍA', 'DESTORNILLADOR', '9.0584', '2002-02-20', 'VERDADERO', 'FRANCIA', NULL),
('AR31', 'JUGUETERÍA', 'PISTOLA CON SONIDOS', '57.2500', '2001-04-15', 'FALSO', 'ESPAÑA', NULL),
('AR32', 'DEPORTES', 'CRONÓMETRO', '439.1764', '2002-01-03', 'VERDADERO', 'USA', NULL),
('AR33', 'CERÁMICA', 'MACETA', '29.0434', '2000-02-23', 'FALSO', 'ESPAÑA', NULL),
('AR34', 'OFICINA', 'PIE DE LÁMPARA', '39.7606', '2001-05-27', 'VERDADERO', 'TURQUÍA', NULL),
('AR35', 'FERRETERÍA', 'LIMA GRANDE', '22.0692', '2002-08-10', 'FALSO', 'ESPAÑA', NULL),
('AR36', 'FERRETERÍA', 'JUEGO DE BROCAS', '15.0950', '2002-07-04', 'VERDADERO', 'TAIWÁN', NULL),
('AR37', 'CONFECCIÓN', 'CINTURÓN DE PIEL', '4.3273', '2002-05-12', 'FALSO', 'ESPAÑA', NULL),
('AR38', 'DEPORTES', 'CAÑA DE PESCA', '270.0000', '2000-02-14', 'VERDADERO', 'USA', NULL),
('AR39', 'CERÁMICA', 'JARRA CHINA', '127.7704', '2002-09-02', 'VERDADERO', 'CHINA', NULL),
('AR40', 'DEPORTES', 'BOTA ALPINISMO', '144.0000', '2002-05-05', 'FALSO', 'ESPAÑA', NULL),
('AR41', 'DEPORTES', 'PALAS DE PING PONG', '21.6000', '2002-02-02', 'FALSO', 'ESPAÑA', NULL);

--
-- Disparadores `productos`
--
DELIMITER $$
CREATE TRIGGER `productos_ad` AFTER DELETE ON `productos` FOR EACH ROW INSERT INTO registro_eliminados (CÓDIGOARTÍCULO, NOMBREARTÍCULO, USUARIO,
FECHAELIMINADO) VALUES (OLD.CÓDIGOARTÍCULO, OLD.NOMBREARTÍCULO, 
CURRENT_USER(), NOW())
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `productos_ai` AFTER INSERT ON `productos` FOR EACH ROW INSERT INTO registro_productos(CÓDIGOARTÍCULO, NOMBREARTÍCULO, PRECIO, INSERTADO)
VALUES (NEW.CÓDIGOARTÍCULO, NEW.NOMBREARTÍCULO, NEW.PRECIO, NOW())
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `productos_bu` BEFORE UPDATE ON `productos` FOR EACH ROW INSERT INTO respaldo (CÓDIGOARTÍCULO, NOMBREARTÍCULO, PRECIOANTIGUO, 
PRECIONUEVO, USUARIO, FECHAMODIFICACIÓN) VALUES (NEW.CÓDIGOARTÍCULO, 
NEW.NOMBREARTÍCULO, OLD.PRECIO, NEW.PRECIO, CURRENT_USER(), NOW())
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `productosnuevos`
--

CREATE TABLE `productosnuevos` (
  `CÓDIGOARTÍCULO` varchar(4) DEFAULT NULL,
  `SECCIÓN` varchar(18) DEFAULT NULL,
  `NOMBREARTÍCULO` varchar(18) DEFAULT NULL,
  `PRECIO` varchar(8) DEFAULT NULL,
  `FECHA` varchar(10) DEFAULT NULL,
  `IMPORTADO` varchar(9) DEFAULT NULL,
  `PAÍSDEORIGEN` varchar(9) DEFAULT NULL,
  `FOTO` varchar(10) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `productosnuevos`
--

INSERT INTO `productosnuevos` (`CÓDIGOARTÍCULO`, `SECCIÓN`, `NOMBREARTÍCULO`, `PRECIO`, `FECHA`, `IMPORTADO`, `PAÍSDEORIGEN`, `FOTO`) VALUES
('AR50', 'ALTA COSTURA', 'TRAJE CABALLERO', '1.284,58', '11/03/2002', 'VERDADERO', 'ITALIA', NULL),
('AR51', 'DEPORTES DE RIESGO', 'RAQUETA TENIS', '1.093,47', '20/03/2000', 'VERDADERO', 'USA', NULL),
('AR52', 'DEPORTES DE RIESGO', 'MANCUERNAS', '1.060,00', '13/09/2000', 'VERDADERO', 'USA', NULL),
('AR53', 'ALTA COSTURA', 'SERRUCHO', '1.030,20', '23/03/2001', 'VERDADERO', 'FRANCIA', NULL),
('AR54', 'ALTA COSTURA', 'PANTALÓN SEÑORA', '1.174,23', '10/01/2000', 'VERDADERO', 'MARRUECOS', NULL),
('AR55', 'ALTA COSTURA', 'CAMISA CABALLERO', '1.067,13', '11/08/2002', 'FALSO', 'ESPAÑA', NULL),
('AR56', 'DEPORTES DE RIESGO', 'PISTOLA OLÍMPICA', '1.046,73', '02/02/2001', 'VERDADERO', 'SUECIA', NULL),
('AR57', 'ALTA COSTURA', 'BLUSA SRA.', '1.101,06', '18/03/2000', 'VERDADERO', 'CHINA', NULL),
('AR58', 'ALTA COSTURA', 'CAZADORA PIEL', '1.522,69', '10/07/2001', 'VERDADERO', 'ITALIA', NULL),
('AR59', 'DEPORTES DE RIESGO', 'BALÓN RUGBY', '1.111,64', '11/11/2000', 'VERDADERO', 'USA', NULL),
('AR60', 'DEPORTES DE RIESGO', 'BALÓN BALONCESTO', '1.075,27', '25/06/2001', 'VERDADERO', 'JAPÓN', NULL),
('AR61', 'ALTA COSTURA', 'ABRIGO CABALLERO', '1.500,00', '05/04/2002', 'VERDADERO', 'ITALIA', NULL),
('AR62', 'DEPORTES DE RIESGO', 'BALÓN FÚTBOL', '1.043,91', '04/07/2002', 'FALSO', 'ESPAÑA', NULL),
('AR63', 'ALTA COSTURA', 'ABRIGO SRA', '1.360,07', '03/05/2001', 'VERDADERO', 'MARRUECOS', NULL),
('AR64', 'DEPORTES DE RIESGO', 'CRONÓMETRO', '1.439,18', '03/01/2002', 'VERDADERO', 'USA', NULL),
('AR65', 'ALTA COSTURA', 'CINTURÓN DE PIEL', '1.004,33', '12/05/2002', 'FALSO', 'ESPAÑA', NULL),
('AR66', 'DEPORTES DE RIESGO', 'CAÑA DE PESCA', '1.270,00', '14/02/2000', 'VERDADERO', 'USA', NULL),
('AR67', 'DEPORTES DE RIESGO', 'BOTA ALPINISMO', '1.144,00', '05/05/2002', 'FALSO', 'ESPAÑA', NULL),
('AR68', 'DEPORTES DE RIESGO', 'PALAS DE PING PONG', '1.021,60', '02/02/2002', 'FALSO', 'ESPAÑA', NULL);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `productospedidos`
--

CREATE TABLE `productospedidos` (
  `NÚMERODEPEDIDO` int(2) DEFAULT NULL,
  `CÓDIGOARTÍCULO` varchar(4) DEFAULT NULL,
  `UNIDADES` int(2) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `productospedidos`
--

INSERT INTO `productospedidos` (`NÚMERODEPEDIDO`, `CÓDIGOARTÍCULO`, `UNIDADES`) VALUES
(1, 'AR01', 11),
(1, 'AR04', 10),
(1, 'AR15', 4),
(1, 'AR22', 18),
(3, 'AR02', 20),
(3, 'AR22', 3),
(5, 'AR04', 16),
(7, 'AR06', 16),
(8, 'AR02', 6),
(8, 'AR06', 5),
(8, 'AR07', 6),
(8, 'AR10', 2),
(8, 'AR12', 30),
(8, 'AR15', 15),
(8, 'AR18', 20),
(8, 'AR19', 18),
(8, 'AR25', 5),
(8, 'AR32', 15),
(8, 'AR33', 18),
(8, 'AR34', 5),
(8, 'AR35', 24),
(9, 'AR06', 14),
(11, 'AR08', 1),
(12, 'AR08', 12),
(13, 'AR08', 8),
(16, 'AR10', 17),
(19, 'AR13', 4),
(21, 'AR15', 11),
(22, 'AR17', 6),
(22, 'AR26', 4),
(22, 'AR28', 21),
(25, 'AR19', 12),
(26, 'AR19', 12),
(27, 'AR21', 11),
(28, 'AR21', 22),
(29, 'AR22', 12),
(30, 'AR23', 33),
(31, 'AR24', 31),
(32, 'AR25', 11),
(34, 'AR22', 7),
(34, 'AR27', 3),
(35, 'AR22', 9),
(35, 'AR27', 12),
(37, 'AR27', 11),
(39, 'AR29', 22),
(40, 'AR30', 1),
(42, 'AR31', 21),
(43, 'AR32', 3),
(44, 'AR22', 22),
(45, 'AR36', 21),
(46, 'AR37', 8),
(47, 'AR38', 12),
(48, 'AR38', 13),
(49, 'AR39', 13),
(50, 'AR39', 1);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `prueba`
--

CREATE TABLE `prueba` (
  `id_prueba` int(11) NOT NULL,
  `nombre` varchar(20) DEFAULT NULL,
  `apellido` varchar(20) DEFAULT NULL,
  `edad` tinyint(4) DEFAULT '20',
  `fecha_nacimiento` date DEFAULT NULL,
  `vida` tinyint(1) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `registro_eliminados`
--

CREATE TABLE `registro_eliminados` (
  `CÓDIGOARTÍCULO` varchar(50) DEFAULT NULL,
  `NOMBREARTÍCULO` varchar(50) DEFAULT NULL,
  `USUARIO` varchar(50) DEFAULT NULL,
  `FECHAELIMINADO` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Volcado de datos para la tabla `registro_eliminados`
--

INSERT INTO `registro_eliminados` (`CÓDIGOARTÍCULO`, `NOMBREARTÍCULO`, `USUARIO`, `FECHAELIMINADO`) VALUES
('AR75', 'PANTALÓN', 'root@localhost', '2017-02-15 18:02:41');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `registro_productos`
--

CREATE TABLE `registro_productos` (
  `CÓDIGOARTÍCULO` varchar(50) DEFAULT NULL,
  `NOMBREARTÍCULO` varchar(50) DEFAULT NULL,
  `PRECIO` int(11) DEFAULT NULL,
  `INSERTADO` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Volcado de datos para la tabla `registro_productos`
--

INSERT INTO `registro_productos` (`CÓDIGOARTÍCULO`, `NOMBREARTÍCULO`, `PRECIO`, `INSERTADO`) VALUES
('AR75', 'PANTALÓN', 50, '2017-02-15 14:31:12');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `respaldo`
--

CREATE TABLE `respaldo` (
  `CÓDIGOARTÍCULO` varchar(50) DEFAULT NULL,
  `NOMBREARTÍCULO` varchar(50) DEFAULT NULL,
  `PRECIOANTIGUO` int(11) DEFAULT NULL,
  `PRECIONUEVO` int(11) DEFAULT NULL,
  `USUARIO` varchar(50) DEFAULT NULL,
  `FECHAMODIFICACIÓN` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Volcado de datos para la tabla `respaldo`
--

INSERT INTO `respaldo` (`CÓDIGOARTÍCULO`, `NOMBREARTÍCULO`, `PRECIOANTIGUO`, `PRECIONUEVO`, `USUARIO`, `FECHAMODIFICACIÓN`) VALUES
('AR75', 'PANTALÓN', 60, 70, 'root@localhost', '2017-02-15 17:49:01'),
('AR01', 'DESTORNILLADOR', 7, 20, 'root@localhost', '2017-02-15 18:37:49');

-- --------------------------------------------------------

--
-- Estructura Stand-in para la vista `resumen_deportes`
-- (Véase abajo para la vista actual)
--
CREATE TABLE `resumen_deportes` (
`NOMBREARTÍCULO` varchar(19)
,`SECCIÓN` varchar(10)
,`PRECIO` decimal(10,4)
);

-- --------------------------------------------------------

--
-- Estructura para la vista `resumen_deportes`
--
DROP TABLE IF EXISTS `resumen_deportes`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `resumen_deportes`  AS  select `productos`.`NOMBREARTÍCULO` AS `NOMBREARTÍCULO`,`productos`.`SECCIÓN` AS `SECCIÓN`,`productos`.`PRECIO` AS `PRECIO` from `productos` where (`productos`.`SECCIÓN` = 'DEPORTES') order by `productos`.`PRECIO` ;

--
-- Índices para tablas volcadas
--

--
-- Indices de la tabla `clientes`
--
ALTER TABLE `clientes`
  ADD PRIMARY KEY (`CÓDIGOCLIENTE`);

--
-- Indices de la tabla `pedidos`
--
ALTER TABLE `pedidos`
  ADD PRIMARY KEY (`NÚMERO DE PEDIDO`),
  ADD KEY `fk_pedidos_clientes` (`CÓDIGOCLIENTE`);

--
-- Indices de la tabla `productos`
--
ALTER TABLE `productos`
  ADD PRIMARY KEY (`CÓDIGOARTÍCULO`);

--
-- Indices de la tabla `prueba`
--
ALTER TABLE `prueba`
  ADD PRIMARY KEY (`id_prueba`);

--
-- AUTO_INCREMENT de las tablas volcadas
--

--
-- AUTO_INCREMENT de la tabla `prueba`
--
ALTER TABLE `prueba`
  MODIFY `id_prueba` int(11) NOT NULL AUTO_INCREMENT;
--
-- Restricciones para tablas volcadas
--

--
-- Filtros para la tabla `pedidos`
--
ALTER TABLE `pedidos`
  ADD CONSTRAINT `fk_pedidos_clientes` FOREIGN KEY (`CÓDIGOCLIENTE`) REFERENCES `clientes` (`CÓDIGOCLIENTE`) ON DELETE CASCADE ON UPDATE CASCADE;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
